<template>
  <div class="jumbotron text-center">
    <h3>${'CreateApplicant.Title' | t}</h3>
  </div>
  <form submit.delegate="submit()">
    <div class="form-row">
      <div class="form-group col-md-6" validation-errors.bind="nameErrors">
        <label>${'CreateApplicant.Name' | t}</label>
        <input type="text" value.bind="createApplicantRequest.name & validate"
          placeholder="${'CreateApplicant.NamePlaceholder' | t}"
          class="${nameErrors.length > 0 ? 'form-control border border-danger' : 'form-control'}">
        <ul if.bind="nameErrors">
          <li repeat.for="error of nameErrors">
            ${error.error.message}
          </li>
        </ul>
      </div>
      <div class="form-group col-md-6" validation-errors.bind="familyNameErrors">
        <label>${'CreateApplicant.FamilyName' | t}</label>
        <input type="text" value.bind="createApplicantRequest.familyName &  validate"
          placeholder="${'CreateApplicant.FamilyNamePlaceholder' | t}"
          class="${familyNameErrors.length > 0 ? 'form-control border border-danger' : 'form-control'}">
        <ul if.bind="familyNameErrors">
          <li repeat.for="error of familyNameErrors">
            ${error.error.message}
          </li>
        </ul>
      </div>
    </div>
    <div class="form-group" validation-errors.bind="addressErrors">
      <label>${'CreateApplicant.Address' | t}</label>
      <input type="text" value.bind="createApplicantRequest.address &  validate"
        placeholder="${'CreateApplicant.Address' | t}"
        class="${addressErrors.length > 0 ? 'form-control border border-danger' : 'form-control'}">
      <ul if.bind="addressErrors">
        <li repeat.for="error of addressErrors">
          ${error.error.message}
        </li>
      </ul>
    </div>
    <div class="form-row">
      <div class="form-group col-md-4" validation-errors.bind="countryErrors">
        <label>${'CreateApplicant.Country' | t}</label>
        <select value.bind="createApplicantRequest.countryOfOrigin &  validate"
          class="${countryErrors.length > 0 ? 'form-control border border-danger' : 'form-control'}">
          <option selected value="">${'CreateApplicant.CountryPlaceholder' | t}</option>
          <option repeat.for="country of countriesLookup" model.bind="country.value">
            ${country.value}
          </option>
        </select>
        <ul if.bind="countryErrors">
          <li repeat.for="error of countryErrors">
            ${error.error.message}
          </li>
        </ul>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6" validation-errors.bind="emailErrors">
        <label>${'CreateApplicant.Email' | t}</label>
        <input type="text" value.bind="createApplicantRequest.emailAddress &  validate"
          placeholder="${'CreateApplicant.EmailPlaceholder' | t}"
          class="${emailErrors.length > 0 ? 'form-control border border-danger' : 'form-control'}">
        <ul if.bind="emailErrors">
          <li repeat.for="error of emailErrors">
            ${error.error.message}
          </li>
        </ul>
      </div>
      <div class="form-group col-md-6" validation-errors.bind="ageErrors">
        <label>${'CreateApplicant.Age' | t}</label>
        <input type="number" value.bind="createApplicantRequest.age &  validate "
          placeholder="${'CreateApplicant.AgePlaceholder' | t}"
          class="${ageErrors.length > 0 ? 'form-control border border-danger' : 'form-control'}">
        <ul if.bind="ageErrors">
          <li repeat.for="error of ageErrors">
            ${error.error.message}
          </li>
        </ul>
      </div>
    </div>
    <div class="form-group">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" checked.bind="createApplicantRequest.hired">
        <label class="form-check-label" for="gridCheck">
          ${'CreateApplicant.Hired' | t}
        </label>
      </div>
    </div>
    <button type="button" click.delegate="submit()"
      disabled.bind="(validationControllerFactory.errors.length > 0 || loading) || !isFormTouched"
      class="btn btn-primary">${'CreateApplicant.Save' | t}</button>
    <button type="button" click.delegate="reset()" disabled.bind="!isFormTouched || loading"
      class="btn btn-danger">${'CreateApplicant.Reset' | t}</button>
    <span if.bind="loading">
      <i class="fa fa-spinner fa-spin fa-lg"></i>
    </span>
  </form>
</template>
